<html>
<head>
<style type="text/css">

    .f{


     }

</style>

  <!--jquery需要引入的文件-->
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js"></script>

    <!--ajax提交表单需要引入jquery.form.js-->
    <script type="text/javascript" src="http://malsup.github.io/jquery.form.js"></script>

<script type="text/javascript">
   

 $(function(){
		$.ajax({
			url :  "test",	//请求url
			type : "POST",	//请求类型  post|get
            data : "titleName=main",	//后台用 request.getParameter("key");
			dataType : "json",  //返回数据的 类型 text|json|html--
			success : function(users){	//回调函数 和 后台返回的 数据

                if(users!='fail')
                {

                   // var wh=window.screen.availWidth/1024;
                    $("div.Main").css({"position":"absolute","left":"0px","top":"0px","background-color":"white","height":window.screen.availHeight,"width":window.screen.availWidth});

                    for(var i=0; i<users.length; i++){

                       var l=users[i].left/users[i].fromWight*window.screen.availWidth;
                       var t=users[i].top/users[i].fromHeight*window.screen.availHeight;
                       var h=users[i].heght/users[i].fromHeight*window.screen.availHeight;
                       var w=users[i].wight/users[i].fromWight*window.screen.availWidth;


                       init(users[i],users[i].type,users[i].typeId,'absolute',users[i].ZIndex,l,t,h,w);

                    }

                }else
                {
                    alert(users);
                }

			}
		});
	});


function on(){

 //$("div.Main").css({"position":"absolute","left":"0px","top":"0px","background-color":"yellow","height":window.screen.availHeight,"width":window.screen.availWidth});

}





function init(user,type,typeId, pos,index, x, y, h, w){

	switch(type)
	{

	    case "Label":


	        $("div.Main").append("  <font  class='Label'></font>  ");
            $('font.Label').removeClass("Label").addClass(typeId);
            $('font.'+typeId).text(user.text);
	        $('font.'+typeId).css({"position":pos,'z-index':index,"left":x,"top":y,"font-size":user.textSize,"height":h,"width":w,'text-align':'center','color':user.textColor,'line-height':h+'px'});

            break;
	    case "Rectangle":

            $("div.Main").append("  <div  class='Label'></div>  ");
            $('div.Label').removeClass("Label").addClass(typeId);
            if(user.bgColor=="#FFFFFFFF")
            {
                $('div.'+typeId).css({"position":pos,'z-index':index,"left":x,"top":y,"background-color":"transparent","height":h,"width":w,'border':'solid '+user.borderWidth+' '+user.borderColor});
            }else{
                $('div.'+typeId).css({"position":pos,'z-index':index,"left":x,"top":y,"background-color":user.bgColor,"height":h,"width":w,'border':'solid '+user.borderWidth+' '+user.borderColor});
            }

	            break;

        case "Image":


            alert("Image")
            $("div.Main").append("  <img  class='Label' alt='fail' />  ");
            $('img.Label').removeClass("Label").addClass(typeId);
            $('img.'+typeId).css({"position":pos,'z-index':index,"left":x,"top":y,"alt":'fali',"height":h,"width":w});
            $('img.'+typeId).attr("src",user.imagePath);



            break;


	}


}


</script>

</head>

<body onLoad="on();">
<div class="Main">



</div>

</body>
</html>
